{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/go/frontend/src/pages/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getLogin } from \"../../api/getLogin\";\nimport { useHistory } from \"react-router-dom\";\nimport { Alert, Form } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  let history = useHistory();\n  const [info, setInfo] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [isFilled, setIsFilled] = useState(false);\n  const [isInvalid, setIsInvalid] = useState(false);\n\n  const handleLogin = async () => {\n    let data = await getLogin(info);\n\n    if (data == null) {\n      setIsInvalid(true);\n    } else if (data.message === \"SUCCESS_LOGIN_USER\") {\n      localStorage.setItem(\"jwtToken\", data.data.token);\n      localStorage.setItem(\"username\", data.data.username);\n      localStorage.setItem(\"refreshToken\", data.data.refreshToken);\n      localStorage.setItem(\"email\", data.data.email);\n      setIsInvalid(false);\n      history.push(\"/home\");\n    }\n  };\n\n  const handleInput = info => {\n    if (info.username !== \"\" && info.password !== \"\") {\n      setIsFilled(true);\n    } else if (info.username === \"\" || info.password === \"\") {\n      setIsFilled(false);\n    }\n  };\n\n  useEffect(() => {\n    handleInput(info);\n  }, [info]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex text-start d-grid\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-column mx-auto bg-white p-3 col-4 mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"h3 text-secondary text-center\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"form-label text-secondary\",\n          htmlFor: \"username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          onChange: e => {\n            setInfo({ ...info,\n              username: e.target.value\n            });\n          },\n          type: \"text\",\n          value: info.username,\n          id: \"username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"flex flex-column mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          className: \"form-label text-secondary\",\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          onChange: e => {\n            setInfo({ ...info,\n              password: e.target.value\n            });\n          },\n          type: \"password\",\n          value: info.password,\n          id: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        class: `alert alert-danger my-2 ${isInvalid ? \"\" : \"d-none\"}`,\n        role: \"alert\",\n        children: \"Username or password is incorrect. Please try again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-grid mt-3\",\n        children: isFilled ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"col-4 offset-4 btn btn-danger\",\n          onClick: () => handleLogin(),\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"col-4 offset-4 btn btn-danger\",\n          disabled: true,\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Login, \"qVhJ8b0Q1FBkcf/rAe7GM58bMEA=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/ubuntu/go/frontend/src/pages/Login/Login.js"],"names":["axios","useEffect","useState","Link","getLogin","useHistory","Alert","Form","Login","history","info","setInfo","username","password","isFilled","setIsFilled","isInvalid","setIsInvalid","handleLogin","data","message","localStorage","setItem","token","refreshToken","email","push","handleInput","e","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getLogin } from \"../../api/getLogin\";\nimport { useHistory } from \"react-router-dom\";\nimport { Alert, Form } from \"react-bootstrap\";\nconst Login = () => {\n\tlet history = useHistory();\n\tconst [info, setInfo] = useState({\n\t\tusername: \"\",\n\t\tpassword: \"\"\n\t});\n\tconst [isFilled, setIsFilled] = useState(false);\n\tconst [isInvalid, setIsInvalid] = useState(false);\n\n\tconst handleLogin = async () => {\n\t\tlet data = await getLogin(info);\n\t\tif (data == null) {\n\t\t\tsetIsInvalid(true);\n\t\t} else if (data.message === \"SUCCESS_LOGIN_USER\") {\n\t\t\tlocalStorage.setItem(\"jwtToken\", data.data.token);\n\t\t\tlocalStorage.setItem(\"username\", data.data.username);\n\t\t\tlocalStorage.setItem(\"refreshToken\", data.data.refreshToken);\n\t\t\tlocalStorage.setItem(\"email\", data.data.email);\n\t\t\tsetIsInvalid(false);\n\t\t\thistory.push(\"/home\");\n\t\t}\n\t};\n\n\tconst handleInput = (info) => {\n\t\tif (info.username !== \"\" && info.password !== \"\") {\n\t\t\tsetIsFilled(true);\n\t\t} else if (info.username === \"\" || info.password === \"\") {\n\t\t\tsetIsFilled(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\thandleInput(info);\n\t}, [info]);\n\n\treturn (\n\t\t<div className=\"flex text-start d-grid\">\n\t\t\t<div className=\"flex flex-column mx-auto bg-white p-3 col-4 mt-5\">\n\t\t\t\t<p class=\"h3 text-secondary text-center\">Log in</p>\n\t\t\t\t<Form.Group className=\"mt-3\">\n\t\t\t\t\t<Form.Label className=\"form-label text-secondary\" htmlFor=\"username\">\n\t\t\t\t\t\tUsername\n\t\t\t\t\t</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetInfo({ ...info, username: e.target.value });\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={info.username}\n\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group className=\"flex flex-column mt-2\">\n\t\t\t\t\t<Form.Label className=\"form-label text-secondary\" htmlFor=\"password\">\n\t\t\t\t\t\tPassword\n\t\t\t\t\t</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetInfo({ ...info, password: e.target.value });\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={info.password}\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Alert\n\t\t\t\t\tclass={`alert alert-danger my-2 ${isInvalid ? \"\" : \"d-none\"}`}\n\t\t\t\t\trole=\"alert\"\n\t\t\t\t>\n\t\t\t\t\tUsername or password is incorrect. Please try again\n\t\t\t\t</Alert>\n\t\t\t\t<div className=\"d-grid mt-3\">\n\t\t\t\t\t{isFilled ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"col-4 offset-4 btn btn-danger\"\n\t\t\t\t\t\t\tonClick={() => handleLogin()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button className=\"col-4 offset-4 btn btn-danger\" disabled>\n\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}