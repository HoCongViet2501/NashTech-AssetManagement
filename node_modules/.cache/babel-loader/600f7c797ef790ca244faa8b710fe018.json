{"ast":null,"code":"import _regeneratorRuntime from\"/home/ubuntu/go/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ubuntu/go/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/ubuntu/go/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Modal}from\"react-bootstrap\";import{useState}from\"react\";import{getLogout}from\"../api/getLogout\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Logout=function Logout(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var token={accessToken:localStorage.getItem(\"jwtToken\"),refreshToken:localStorage.getItem(\"refreshToken\")};var history=useHistory();var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getLogout(token);case 2:data=_context.sent;if(data.message===\"SUCCESS_LOGOUT_USER\"){localStorage.removeItem(\"jwtToken\");localStorage.removeItem(\"refreshToken\");history.push(\"/login\");}case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleLogout(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"default\",onClick:function onClick(){return handleShow();},children:\"Log out\"}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:/*#__PURE__*/_jsx(\"p\",{class:\"h3 text-danger\",children:\"Are you sure\"})})}),/*#__PURE__*/_jsx(Modal.Body,{children:\"Do you want to log out?\"}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:function onClick(){return handleClose();},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){return handleLogout();},children:\"Log out\"})]})]})]});};export default Logout;","map":{"version":3,"sources":["/home/ubuntu/go/frontend/src/components/Logout.js"],"names":["Button","Modal","useState","getLogout","useHistory","Logout","show","setShow","handleClose","handleShow","token","accessToken","localStorage","getItem","refreshToken","history","handleLogout","data","message","removeItem","push"],"mappings":"0aAAA,OAASA,MAAT,CAAiBC,KAAjB,KAA8B,iBAA9B,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,6IACA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,eACIH,QAAQ,CAAC,KAAD,CADZ,wCACbI,IADa,eACPC,OADO,eAEpB,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAAMD,CAAAA,OAAO,CAAC,KAAD,CAAb,EAApB,CACA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAMF,CAAAA,OAAO,CAAC,IAAD,CAAb,EAAnB,CAEA,GAAMG,CAAAA,KAAK,CAAG,CACbC,WAAW,CAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,CADA,CAEbC,YAAY,CAAEF,YAAY,CAACC,OAAb,CAAqB,cAArB,CAFD,CAAd,CAKA,GAAIE,CAAAA,OAAO,CAAGX,UAAU,EAAxB,CAEA,GAAMY,CAAAA,YAAY,0FAAG,kKACHb,CAAAA,SAAS,CAACO,KAAD,CADN,QAChBO,IADgB,eAEpB,GAAIA,IAAI,CAACC,OAAL,GAAiB,qBAArB,CAA4C,CAC3CN,YAAY,CAACO,UAAb,CAAwB,UAAxB,EACAP,YAAY,CAACO,UAAb,CAAwB,cAAxB,EACAJ,OAAO,CAACK,IAAR,CAAa,QAAb,EACA,CANmB,sDAAH,kBAAZJ,CAAAA,YAAY,0CAAlB,CASA,mBACC,wCACC,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,OAAO,CAAE,yBAAMP,CAAAA,UAAU,EAAhB,EAAnC,qBADD,cAKC,MAAC,KAAD,EAAO,IAAI,CAAEH,IAAb,CAAmB,MAAM,CAAEE,WAA3B,wBACC,KAAC,KAAD,CAAO,MAAP,EAAc,WAAW,KAAzB,uBACC,KAAC,KAAD,CAAO,KAAP,wBACC,UAAG,KAAK,CAAC,gBAAT,0BADD,EADD,EADD,cAMC,KAAC,KAAD,CAAO,IAAP,sCAND,cAOC,MAAC,KAAD,CAAO,MAAP,yBACC,KAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,OAAO,CAAE,yBAAMA,CAAAA,WAAW,EAAjB,EAArC,oBADD,cAIC,KAAC,MAAD,EAAQ,OAAO,CAAC,QAAhB,CAAyB,OAAO,CAAE,yBAAMQ,CAAAA,YAAY,EAAlB,EAAlC,qBAJD,GAPD,GALD,GADD,CAwBA,CA7CD,CA+CA,cAAeX,CAAAA,MAAf","sourcesContent":["import { Button, Modal } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport { getLogout } from \"../api/getLogout\";\nimport { useHistory } from \"react-router-dom\";\nconst Logout = () => {\n\tconst [show, setShow] = useState(false);\n\tconst handleClose = () => setShow(false);\n\tconst handleShow = () => setShow(true);\n\n\tconst token =({\n\t\taccessToken: localStorage.getItem(\"jwtToken\"),\n\t\trefreshToken: localStorage.getItem(\"refreshToken\")\n\t});\n\n\tlet history = useHistory();\n\n\tconst handleLogout = async () => {\n\t\tlet data = await getLogout(token);\n\t\tif (data.message === \"SUCCESS_LOGOUT_USER\") {\n\t\t\tlocalStorage.removeItem(\"jwtToken\");\n\t\t\tlocalStorage.removeItem(\"refreshToken\");\n\t\t\thistory.push(\"/login\");\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Button variant=\"default\" onClick={() => handleShow()}>\n\t\t\t\tLog out\n\t\t\t</Button>\n\n\t\t\t<Modal show={show} onHide={handleClose}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>\n\t\t\t\t\t\t<p class=\"h3 text-danger\">Are you sure</p>\n\t\t\t\t\t</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>Do you want to log out?</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"secondary\" onClick={() => handleClose()}>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"danger\" onClick={() => handleLogout()}>\n\t\t\t\t\t\tLog out\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default Logout;\n"]},"metadata":{},"sourceType":"module"}